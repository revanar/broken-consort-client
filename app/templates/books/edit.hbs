<h2>Edit Books</h2>
<button {{action "saveAll"}}>Save All</button>
<div class="div-table table">
    <div class="table-header">
        <span>Name</span>
        <span>Editor</span>
        <span>Year</span>
        <span>PDF</span>
    </div>
  {{#each model.books as |book|}}
    <form class="table-row" {{action "update" book on="submit"}}>
          <div class="table-cell">{{input type="text" value=book.name}}</div>
          <div class="table-cell">
            {{#power-select-with-create
              selected=book.editor
              placeholder="unknown editor"
              options=model.editors
              onchange=(action "updateOne" book "editor")
              oncreate=(action "createOne" book "editor")
              searchField="name"
            as |editor|
            }}
              {{editor.name}}
            {{/power-select-with-create}}
          </div>
          <div class="table-cell">{{input type="number" min="600" max="1800" size="4" value=book.year}}</div>
          <div class="table-cell">
              <div>
                {{#if book.pdf.pdf_path.url}}
                    <a href={{book.pdf.pdf_path.url}}><img src={{book.pdf.pdf_path.thumb.url}}></a>
                {{/if}}
                  <div>
                    {{#if book.pdf.pdf_path.url}}
                        <label for={{concat "pdf-delete-" book.id}} class="btn btn-danger">
                          {{input id=(concat "pdf-delete-" book.id) type="checkbox" name="Delete PDF" checked=book.remove_pdf_path}} Delete
                        </label>
                    {{/if}}
                    {{x-file-input action=(action "uploadPDF" book) accept="application/pdf" class="btn btn-default" value="Upload"}}
                  </div>
              </div>
          </div>
        <span id="pdf-progress-{{book.id}}"></span>
        <span id="save-flash-{{book.id}}" class="save-flash">Saved!</span>
      </form>
  {{/each}}
</div>
